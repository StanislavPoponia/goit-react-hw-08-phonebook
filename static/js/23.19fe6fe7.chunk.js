"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[23],{7023:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var a=t(5048),r=t(9439),s=t(2791),o=t(5705),i=t(6727),c=t(9085),l=(t(5462),t(4691)),u=t(3661),d=t(4227),m="FormPhonebook_form__UlByX",h="FormPhonebook_label__K8fjg",p="FormPhonebook_input__I01af",x="FormPhonebook_btn__I4QZe",f="FormPhonebook_error__47N8k",b=t(3329),j=function(){var e=(0,u.Tn)(),n=(0,r.Z)(e,2),t=n[0],a=n[1],j=a.isLoading,_=a.isSuccess,g=a.isError,v=(0,u.Jx)().data;(0,s.useEffect)((function(){_&&(0,d.fI)()}),[_]),(0,s.useEffect)((function(){g&&(0,d.I3)()}),[g]);var N=i.Ry().shape({name:i.Z_().min(2,"Too Short!").max(20,"Too Long!").required("Name is required field"),phone:i.Rx().typeError("That does not look like a phone number").positive("A phone number can't start with a minus").integer("A phone number can't include a decimal point").required("A phone number is required")});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Ix,{autoClose:1e3,position:"top-center"}),(0,b.jsx)(o.J9,{initialValues:{name:"",phone:""},validationSchema:N,onSubmit:function(e,n){var a=n.resetForm,r=e.name,s=e.phone;v.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))?alert("".concat(e.name," is already in contacts!")):t({name:r,number:s})&&a()},children:(0,b.jsxs)(o.l0,{className:m,children:[(0,b.jsxs)("label",{className:h,children:["Name",(0,b.jsx)(o.gN,{className:p,type:"text",name:"name",placeholder:"Name"}),(0,b.jsx)(o.Bc,{className:f,name:"name",component:"div"})]}),(0,b.jsxs)("label",{className:h,children:["Number",(0,b.jsx)(o.gN,{className:p,type:"tel",name:"phone",placeholder:"phone"}),(0,b.jsx)(o.Bc,{className:f,name:"phone",component:"div"})]}),(0,b.jsxs)("button",{className:x,disabled:j,type:"submit",children:[j&&(0,b.jsx)(l.s5,{height:"20",width:"20"}),"Add contact"]})]})})]})},_=t(3628),g=t(6895),v=t(6351),N="Filter_label__vEd1E",C="Filter_input__N7T3z",y=function(){var e=(0,a.I0)(),n=(0,a.v9)(v.zK);return(0,b.jsxs)("label",{className:N,children:["Find contacts by name",(0,b.jsx)(_.DebounceInput,{minLength:1,debounceTimeout:200,className:C,type:"text",value:n,placeholder:"Search",onChange:function(n){var t;t=n.target.value,e((0,g.T)(t))}})]})},k=t(1413),F=t(4925),w="button-styled_btn__u4xXP",S=["children","disabled","isLoading"],I=function(e){var n=e.children,t=e.disabled,a=(e.isLoading,(0,F.Z)(e,S));return(0,b.jsx)("button",(0,k.Z)((0,k.Z)({className:w,disabled:t},a),{},{type:"submit",children:n}))},P="ContactItem_contactItem__Z4FuP",Z=function(e){var n=e.id,t=e.name,a=e.number,o=(0,s.useState)(!1),i=(0,r.Z)(o,2),l=i[0],d=i[1],m=(0,s.useState)(t),h=(0,r.Z)(m,2),p=h[0],x=h[1],f=(0,s.useState)(a),j=(0,r.Z)(f,2),_=j[0],g=j[1],v=(0,u.Nt)(),N=(0,r.Z)(v,2),C=N[0],y=N[1],k=y.isLoading,F=y.isSuccess,w=(0,u.wv)(),S=(0,r.Z)(w,2),Z=S[0],L=S[1],A=L.isLoading,E=L.isSuccess;(0,s.useEffect)((function(){F&&c.Am.success("Contact has been deleted!"),E&&(d(!1),c.Am.success("Contact has been updated!"))}),[F,E]);var T=function(e){"name"===e.target.name?x(e.target.value):"number"===e.target.name&&g(e.target.value)};return(0,b.jsx)("li",{className:P,children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"text",name:"name",value:p,onChange:T}),(0,b.jsx)("input",{type:"text",name:"number",value:_,onChange:T}),(0,b.jsxs)("div",{children:[(0,b.jsx)(I,{onClick:function(){Z({id:n,name:p,number:_})},disabled:A,children:"Save"}),(0,b.jsx)(I,{onClick:function(){d(!1),x(t),g(a)},children:"Cancel"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("span",{children:[t,":"]})," ",(0,b.jsx)("span",{children:a}),(0,b.jsxs)("div",{children:[(0,b.jsx)(I,{onClick:function(){d(!0)},children:"Edit"}),(0,b.jsx)(I,{onClick:function(){return C(n)},disabled:k,children:"Delete"})]})]})})},L=function(){var e=(0,a.v9)(v.zK),n=(0,u.Jx)(),t=n.data,r=n.isLoading,s=n.error;return(0,b.jsxs)(b.Fragment,{children:[r&&(0,b.jsx)("p",{children:"loading"}),s&&(0,b.jsx)("p",{children:"Sorry, something wrong, please try again"}),t&&0===t.length&&(0,b.jsx)("p",{children:"There is no any contact"}),(0,b.jsx)("ul",{children:t&&(0,v.F4)(t,e).map((function(e){var n=e.id,t=e.name,a=e.number;return(0,b.jsx)(Z,{name:t,number:a,id:n},n)}))})]})},A="ContactsPage_wrapper__HYOyv",E="ContactsPage_titlePhone__ODE41",T="ContactsPage_titleCont__JLcCo",q=function(){return(0,a.v9)(v.M7)&&(0,b.jsxs)("div",{className:A,children:[(0,b.jsx)("h1",{className:E,children:"Phonebook"}),(0,b.jsx)(j,{}),(0,b.jsx)("h2",{className:T,children:"Contacts"}),(0,b.jsx)(y,{}),(0,b.jsx)(L,{})]})}},4227:function(e,n,t){t.d(n,{G$:function(){return s},I3:function(){return o},fI:function(){return i},oo:function(){return r}});var a=t(9085),r=function(){return a.Am.error("Sorry, wrong email or password")},s=function(){return a.Am.error("Incorrect data entered")},o=function(){return a.Am.error("Sorry, something wrong, please try again")},i=function(){return a.Am.success("Contact added")}}}]);
//# sourceMappingURL=23.19fe6fe7.chunk.js.map